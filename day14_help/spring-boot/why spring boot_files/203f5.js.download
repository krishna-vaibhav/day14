"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],b.console&&b.console.log&&b.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\s*</,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with '<' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{document.querySelector(a),d("Attribute selector with '#' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with '#' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var A=/\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\b(?:"+I+")\\b"),K=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("'ready' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);
;(function(factory){var registeredInModuleLoader=false;if(typeof define==='function'&&define.amd){define(factory);registeredInModuleLoader=true}if(typeof exports==='object'){module.exports=factory();registeredInModuleLoader=true}if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api}}}(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}return result}function init(converter){function api(key,value,attributes){var result;if(typeof document==='undefined'){return}if(arguments.length>1){attributes=extend({path:'/'},api.defaults,attributes);if(typeof attributes.expires==='number'){var expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e+5);attributes.expires=expires}attributes.expires=attributes.expires?attributes.expires.toUTCString():'';try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{value=converter.write(value,key)}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);var stringifiedAttributes='';for(var attributeName in attributes){if(!attributes[attributeName]){continue}stringifiedAttributes+='; '+attributeName;if(attributes[attributeName]===true){continue}stringifiedAttributes+='='+attributes[attributeName]}return(document.cookie=key+'='+value+stringifiedAttributes)}if(!key){result={}}var cookies=document.cookie?document.cookie.split('; '):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split('=');var cookie=parts.slice(1).join('=');if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie)}catch(e){}}if(key===name){result=cookie;break}if(!key){result[name]=cookie}}catch(e){}}return result}api.set=api;api.get=function(key){return api.call(api,key)};api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments))};api.defaults={};api.remove=function(key,attributes){api(key,'',extend(attributes,{expires:-1}))};api.withConverter=init;return api}return init(function(){})}));
;
jQuery.fn.autoGrow=function(){return this.each(function(){var createMirror=function(textarea){jQuery(textarea).after('<div class="autogrow-textarea-mirror"></div>');return jQuery(textarea).next(".autogrow-textarea-mirror")[0]};var sendContentToMirror=function(textarea){mirror.innerHTML=String(textarea.value).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")+".<br/>.";if(jQuery(textarea).height()!=jQuery(mirror).height())jQuery(textarea).height(jQuery(mirror).height())};
var growTextarea=function(){sendContentToMirror(this)};var mirror=createMirror(this);mirror.style.display="none";mirror.style.wordWrap="break-word";mirror.style.padding=jQuery(this).css("padding");mirror.style.width=jQuery(this).css("width");mirror.style.fontFamily=jQuery(this).css("font-family");mirror.style.fontSize=jQuery(this).css("font-size");mirror.style.lineHeight=jQuery(this).css("line-height");this.style.overflow="hidden";this.style.minHeight=this.rows+"em";this.onkeydown=growTextarea;sendContentToMirror(this)})};
;;jQuery(document).ready(function($){$('body').addClass('wpdiscuz_'+wpdiscuzAjaxObj.wpdiscuz_options.version);var isUserLoggedIn=wpdiscuzAjaxObj.wpdiscuz_options.is_user_logged_in;var isShowCaptchaForGuests=wpdiscuzAjaxObj.wpdiscuz_options.wc_captcha_show_for_guest==1&&!isUserLoggedIn;var isShowCaptchaForMembers=wpdiscuzAjaxObj.wpdiscuz_options.wc_captcha_show_for_members==1&&isUserLoggedIn;var isCaptchaInSession=wpdiscuzAjaxObj.wpdiscuz_options.isCaptchaInSession;var wpdiscuzRecaptcha=wpdiscuzAjaxObj.wpdiscuz_options.wpDiscuzReCaptcha;var isGoodbyeCaptchaActive=wpdiscuzAjaxObj.wpdiscuz_options.isGoodbyeCaptchaActive;var commentListLoadType=wpdiscuzAjaxObj.wpdiscuz_options.commentListLoadType;var wordpressIsPaginate=wpdiscuzAjaxObj.wpdiscuz_options.wordpressIsPaginate;var wpdiscuzPostId=wpdiscuzAjaxObj.wpdiscuz_options.wc_post_id;var commentListUpdateType=wpdiscuzAjaxObj.wpdiscuz_options.commentListUpdateType;var commentListUpdateTimer=wpdiscuzAjaxObj.wpdiscuz_options.commentListUpdateTimer;var disableGuestsLiveUpdate=wpdiscuzAjaxObj.wpdiscuz_options.liveUpdateGuests;var loadLastCommentId=wpdiscuzAjaxObj.wpdiscuz_options.loadLastCommentId;var wpdiscuzCommentOrder=wpdiscuzAjaxObj.wpdiscuz_options.wordpress_comment_order;var commentsVoteOrder=wpdiscuzAjaxObj.wpdiscuz_options.commentsVoteOrder;var storeCommenterData=wpdiscuzAjaxObj.wpdiscuz_options.storeCommenterData;var wpdiscuzLoadCount=1;var wpdiscuzCommentOrderBy='comment_date_gmt';var wpdiscuzReplyArray=[];var wpdiscuzCommentArray=[];var wpdiscuzUploader=wpdiscuzAjaxObj.wpdiscuz_options.uploader;var commentTextMaxLength=wpdiscuzAjaxObj.wpdiscuz_options.commentTextMaxLength;var wpdGoogleRecaptchaValid=true;var wpdiscuzReplyButton='';var isCookiesEnabled=wpdiscuzAjaxObj.wpdiscuz_options.isCookiesEnabled;var wpdCookiesConsent=true;var wpdiscuzCookiehash=wpdiscuzAjaxObj.wpdiscuz_options.cookiehash;var isLoadOnlyParentComments=wpdiscuzAjaxObj.wpdiscuz_options.isLoadOnlyParentComments;var wpdiscuzAgreementFields=[];loginButtonsClone();if(!wpdiscuzAjaxObj.wpdiscuz_options.wordpressIsPaginate&&isCookiesEnabled){var wpdiscuzLastVisitKey=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitKey;var wpdiscuzLastVisit=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitCookie;var wpdiscuzLastVisitExpires=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitExpires;Cookies.set(wpdiscuzLastVisitKey,(JSON.stringify(wpdiscuzLastVisit)),{expires:wpdiscuzLastVisitExpires,path:window.location});}
if(commentsVoteOrder){$('.wpdiscuz-vote-sort-up').addClass('wpdiscuz-sort-button-active');wpdiscuzCommentOrderBy='by_vote';}else{$('.wpdiscuz-date-sort-'+wpdiscuzCommentOrder).addClass('wpdiscuz-sort-button-active');}
$('#wc_unsubscribe_message').delay(4000).fadeOut(1500,function(){$(this).remove();location.href=location.href.substring(0,location.href.indexOf('subscribeAnchor')-1);});if($('.wc_main_comm_form').length){wpdiscuzReplaceValidationUI($('.wc_main_comm_form')[0]);}
$(document).delegate('.wc-reply-button','click',function(){wpdiscuzReplyButton=$(this);if($(this).hasClass('wpdiscuz-clonned')){$('#wc-secondary-form-wrapper-'+getUniqueID($(this),0)).slideToggle(700);}else{cloneSecondaryForm($(this));}
$(this).toggleClass('wc-cta-active');});$(document).delegate('.wc-comment-img-link','click',function(){$(this).parents('.wc-comment-img-link-wrap').find('span').toggleClass('wc-comment-img-link-show');});$(document).delegate('textarea.wc_comment','focus',function(){var parent=$(this).parents('.wc-form-wrapper');$('.commentTextMaxLength',parent).show();$('.wc-form-footer',parent).slideDown(700);});$(document).delegate('#wpcomm textarea','focus',function(){if(!($(this).next('.autogrow-textarea-mirror').length)){$(this).autoGrow();}});$(document).delegate('textarea.wc_comment','blur',function(){var parent=$(this).parents('.wc-form-wrapper');$('.commentTextMaxLength',parent).hide();});$(document).delegate('textarea.wc_comment','keyup',function(){setTextareaCharCount($(this),commentTextMaxLength);});$.each($('textarea.wc_comment'),function(){setTextareaCharCount($(this),commentTextMaxLength);});$(document).delegate('.wc-share-link','click',function(){var parent=$(this).parents('.wc-comment-right');$(this).toggleClass('wc-cta-active');if($(this).hasClass('wc-cta-active')){$('.share_buttons_box',parent).show();}else{$('.share_buttons_box',parent).hide();}});$(document).delegate('.wpdiscuz-nofollow,.wc_captcha_refresh_img,.wc-toggle,.wc-load-more-link','click',function(e){e.preventDefault();});$(document).delegate('.wc-toggle','click',function(e){var uniqueID=getUniqueID($(this),0);var toggle=$(this);var icon=$('.fas',toggle);if(icon.hasClass('wpdiscuz-show-replies')&&isLoadOnlyParentComments){wpdiscuzShowReplies(uniqueID);}else{$('#wc-comm-'+uniqueID+'> .wc-reply').slideToggle(700,function(){if($(this).is(':hidden')){icon.removeClass('fa-chevron-up');icon.addClass('fa-chevron-down');icon.attr('title',wpdiscuzAjaxObj.wpdiscuz_options.wc_show_replies_text);$('.wpdiscuz-children-button-text',toggle).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_show_replies_text);}else{icon.removeClass('fa-chevron-down');icon.addClass('fa-chevron-up');icon.attr('title',wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);$('.wpdiscuz-children-button-text',toggle).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);}});$('.wpdiscuz-children',toggle).toggleClass('wpdiscuz-hidden');if($('.wpdiscuz-children-count',toggle).length){var replies=$('#wc-comm-'+uniqueID+' .wc-reply');$('.wpdiscuz-children-count',toggle).html(replies.length);}}});$(document).delegate('.wc-new-loaded-comment','mouseenter',function(){if($(this).hasClass('wc-reply')){$('>.wc-comment-right',this).css('backgroundColor',wpdiscuzAjaxObj.wpdiscuz_options.wc_reply_bg_color);}else{$('>.wc-comment-right',this).css('backgroundColor',wpdiscuzAjaxObj.wpdiscuz_options.wc_comment_bg_color);}});$(document).delegate('.wpdiscuz-sbs-wrap','click',function(){$('.wpdiscuz-subscribe-bar').slideToggle(500);});$(document).delegate('.wc_captcha_refresh_img','click',function(e){changeCaptchaImage($(this));});function changeCaptchaImage(reloadImage){if(!wpdiscuzRecaptcha&&!isGoodbyeCaptchaActive&&(isShowCaptchaForGuests||isShowCaptchaForMembers)){var form=reloadImage.parents('.wc-form-wrapper');var keyField=$('.wpdiscuz-cnonce',form);if(isCaptchaInSession){var uuId=getUUID();var captchaImg=$(reloadImage).prev().children('.wc_captcha_img');var src=captchaImg.attr('src');var fileUrl=src.substring(0,src.indexOf('=')+1);captchaImg.attr('src',fileUrl+uuId+'&r='+Math.random());keyField.attr('id',uuId);keyField.attr('value',uuId);}else{var data=new FormData();data.append('action','generateCaptcha');var isMain=form.hasClass('wc-secondary-form-wrapper')?0:1;var uniqueId=getUniqueID(reloadImage,isMain);data.append('wpdiscuz_unique_id',uniqueId);var ajaxObject=getAjaxObj(true,data);ajaxObject.done(function(response){try{var obj=$.parseJSON(response);if(obj.code==1){var captchaImg=$(reloadImage).prev().children('.wc_captcha_img');var src=captchaImg.attr('src');var lastSlashIndex=src.lastIndexOf('/')+1;var newSrc=src.substring(0,lastSlashIndex)+obj.message;captchaImg.attr('src',newSrc);keyField.attr('id',obj.key);keyField.attr('value',obj.key);}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}}}
function getUUID(){var chars='123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';var uuId='c';for(i=0;i<13;i++){uuId+=chars[Math.floor(Math.random()*(chars.length-1)+1)];}
return uuId;}
$(document).delegate('.wc_comm_submit.wc_not_clicked','click',function(){var currentSubmitBtn=$(this);var depth=1;var wcForm=$(this).parents('form');if(!wcForm.hasClass('wc_main_comm_form')){depth=getCommentDepth($(this).parents('.wc-comment'));}
if(!wpdiscuzAjaxObj.wpdiscuz_options.is_email_field_required&&$('.wc_email',wcForm).val()){$('.wc_email',wcForm).attr('required','required');}
if(!wpdiscuzAjaxObj.wpdiscuz_options.is_email_field_required&&!($('.wc_email',wcForm).val())){$('.wc_email',wcForm).removeAttr('required');}
wpdGoogleRecaptchaValid=true;wpdValidateFieldRequired(wcForm);wcForm.submit(function(event){event.preventDefault();});if(wcForm[0].checkValidity()&&wpdGoogleRecaptchaValid){addAgreementInCookie(wcForm);$(currentSubmitBtn).removeClass('wc_not_clicked');var data=new FormData();data.append('action','addComment');data.append('ahk',wpdiscuzAjaxObj.wpdiscuz_options.ahk);var inputs=$(":input",wcForm);inputs.each(function(){if(this.name!=''&&this.type!='checkbox'&&this.type!='radio'){data.append(this.name+'',$(this).val());}
if(this.type=='checkbox'||this.type=='radio'){if($(this).is(':checked')){data.append(this.name+'',$(this).val());}}});data.append('wc_comment_depth',depth);if(wpdiscuzUploader==1){var images=$(wcForm).find('input.wmu-image');var videos=$(wcForm).find('input.wmu-video');var files=$(wcForm).find('input.wmu-file');if(images.length>0){$.each($(images),function(i,imageFile){if(imageFile.files.length>0){$.each(imageFile.files,function(j,imageObj){data.append('wmu_images['+i+']',imageObj);});}});}
if(videos.length>0){$.each($(videos),function(i,videoFile){if(videoFile.files.length>0){$.each(videoFile.files,function(j,videoObj){data.append('wmu_videos['+i+']',videoObj);});}});}
if(files.length>0){$.each($(files),function(i,file){if(file.files.length>0){$.each(file.files,function(j,fileObj){data.append('wmu_files['+i+']',fileObj);});}});}}
if(!wpdiscuzRecaptcha&&!isGoodbyeCaptchaActive&&(isShowCaptchaForGuests||isShowCaptchaForMembers)&&!isCaptchaInSession){var image=$('.wc_captcha_img',wcForm);var src=image.attr('src');var lastIndex=src.lastIndexOf('/')+1;var fileName=src.substring(lastIndex);data.append('fileName',fileName);}
if(Cookies.get('comment_author_'+wpdiscuzCookiehash)&&!$('.wc_name',wcForm).val()){data.append('wc_name',Cookies.get('comment_author_'+wpdiscuzCookiehash));}
if(Cookies.get('comment_author_email_'+wpdiscuzCookiehash)&&!$('.wc_email',wcForm).val()){data.append('wc_email',Cookies.get('comment_author_email_'+wpdiscuzCookiehash));}
if(wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuz_zs){data.append('wpdiscuz_zs',wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuz_zs);}
if($('.wpd-cookies-chackbox',wcForm).length&&!$('.wpd-cookies-chackbox',wcForm).prop("checked")){wpdCookiesConsent=false;}
getAjaxObj(true,data).done(function(response){$(currentSubmitBtn).addClass('wc_not_clicked');var messageKey='';var message='';try{var obj=$.parseJSON(response);messageKey=obj.code;if(parseInt(messageKey)>=0){var isMain=obj.is_main;message=obj.message;$('.wpd-cc-value').html(obj.wc_all_comments_count_new);if($('.wpd-stat-threads-count').length){$('.wpd-stat-threads-count').html(obj.threadsCount);}
if($('.wpd-stat-replies-count').length){$('.wpd-stat-replies-count').html(obj.repliesCount);}
if($('.wpd-stat-authors-count').length){$('.wpd-stat-authors-count').html(obj.authorsCount);}
if(isMain){$('.wc-thread-wrapper').prepend(message);}else{$('#wc-secondary-form-wrapper-'+messageKey).slideToggle(700);if(obj.is_in_same_container==1){$('#wc-secondary-form-wrapper-'+messageKey).after(message);}else{$('#wc-secondary-form-wrapper-'+messageKey).after(message.replace('wc-reply','wc-reply wc-no-left-margin'));}}
if(obj.held_moderate&&isCookiesEnabled){var moderateCommentTime=30*24*60*60;var moderateComments='';if(Cookies.get('wc_moderate_comments_'+wpdiscuzPostId)){moderateComments=Cookies.get('wc_moderate_comments_'+wpdiscuzPostId);}
moderateComments+=obj.new_comment_id+',';Cookies.set('wc_moderate_comments_'+wpdiscuzPostId,moderateComments,{expires:moderateCommentTime,path:'/'});}
notifySubscribers(obj);wpdiscuzRedirect(obj);if(isCookiesEnabled&&wpdCookiesConsent){addCookie(wcForm,obj);}else if(!wpdCookiesConsent){$('.wpd-cookies-chackbox').removeAttr('checked');}
wcForm.get(0).reset();setCookieInForm(obj);var currTArea=$('.wc_comment',wcForm);currTArea.css('height','72px');setTextareaCharCount(currTArea,commentTextMaxLength);$('.wmu-preview-wrap',wcForm).remove();if(wpdiscuzReplyButton.length){wpdiscuzReplyButton.removeClass('wc-cta-active');}
deleteAgreementFields();}else{message=wpdiscuzAjaxObj.wpdiscuz_options[messageKey];if(obj.typeError!='undefined'&&obj.typeError!=null){message+=' '+obj.typeError;}
wpdiscuzAjaxObj.setCommentMessage(wcForm,messageKey,message,true);}
if(obj.callbackFunctions!=null&&obj.callbackFunctions!='undefined'&&obj.callbackFunctions.length){$.each(obj.callbackFunctions,function(i){if(typeof wpdiscuzAjaxObj[obj.callbackFunctions[i]]==="function"){wpdiscuzAjaxObj[obj.callbackFunctions[i]](messageKey,wcForm);}else{console.log(obj.callbackFunctions[i]+" is not a function");}});}}catch(e){if(response.indexOf('<')>=0&&response.indexOf('>')>=0){message=e;}else{message=response;}
wpdiscuzAjaxObj.setCommentMessage(wcForm,'wc_invalid_field',message,true);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}
changeCaptchaImage($('.wc_captcha_refresh_img',wcForm));wpdiscuzReset();});function notifySubscribers(obj){if(!obj.held_moderate){var data=new FormData();data.append('action','checkNotificationType');data.append('comment_id',obj.new_comment_id);data.append('email',obj.comment_author_email);data.append('isParent',obj.is_main);var ajaxObject=getAjaxObj(true,data);ajaxObject.done(function(response){try{obj=$.parseJSON(response);}catch(e){console.log(e);}});}}
function wpdiscuzRedirect(obj){if(obj.redirect>0&&obj.new_comment_id){var data=new FormData();data.append('action','redirect');data.append('commentId',obj.new_comment_id);var ajaxObject=getAjaxObj(true,data);ajaxObject.done(function(response){obj=$.parseJSON(response);if(obj.code==1){setTimeout(function(){window.location.href=obj.redirect_to;},5000);}});}}
function setCookieInForm(obj){$('.wc_comm_form .wc_name').val(obj.comment_author);if(obj.comment_author_email.indexOf('@example.com')<0){$('.wc_comm_form .wc_email').val(obj.comment_author_email);}
if(obj.comment_author_url){$('.wc_comm_form .wc_website').val(obj.comment_author_url);}}
function addCookie(wcForm,obj){var email=obj.comment_author_email;var name=obj.comment_author;var weburl=obj.comment_author_url;if(storeCommenterData==null){Cookies.set('comment_author_email_'+wpdiscuzCookiehash,email);Cookies.set('comment_author_'+wpdiscuzCookiehash,name);if(weburl.length){Cookies.set('comment_author_url_'+wpdiscuzCookiehash,weburl);}}else{storeCommenterData=parseInt(storeCommenterData);Cookies.set('comment_author_email_'+wpdiscuzCookiehash,email,{expires:storeCommenterData,path:'/'});Cookies.set('comment_author_'+wpdiscuzCookiehash,name,{expires:storeCommenterData,path:'/'});if(weburl.length){Cookies.set('comment_author_url_'+wpdiscuzCookiehash,weburl,{expires:storeCommenterData,path:'/'});}}
if($('.wpd-cookies-chackbox').length){$('.wpd-cookies-chackbox').attr('checked','checked');}}
var wcCommentTextBeforeEditing;$(document).delegate('.wc_editable_comment','click',function(){var uniqueID=getUniqueID($(this),0);var commentID=getCommentID(uniqueID);var editButton=$(this);var data=new FormData();data.append('action','editComment');data.append('commentId',commentID);var wcCommentTextBeforeEditingTop=$('#wc-comm-'+uniqueID+' .wpd-top-custom-fields');var wcCommentTextBeforeEditingBottom=$('#wc-comm-'+uniqueID+' .wpd-bottom-custom-fields');wcCommentTextBeforeEditing=wcCommentTextBeforeEditingTop.length?'<div class="wpd-top-custom-fields">'+wcCommentTextBeforeEditingTop.html()+'</div>':'';wcCommentTextBeforeEditing+='<div class="wc-comment-text">'+$('#wc-comm-'+uniqueID+' .wc-comment-text').html()+'</div>';wcCommentTextBeforeEditing+=wcCommentTextBeforeEditingBottom.length?'<div class="wpd-bottom-custom-fields">'+$('#wc-comm-'+uniqueID+' .wpd-bottom-custom-fields').html()+'</div>':'';console.log(wcCommentTextBeforeEditing);getAjaxObj(true,data).done(function(response){try{var obj=$.parseJSON(response);var message='';var messageKey=obj.code;if(parseInt(messageKey)>=0){$('#wc-comm-'+uniqueID+' .wpd-top-custom-fields').remove();$('#wc-comm-'+uniqueID+' .wpd-bottom-custom-fields').remove();$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-text').replaceWith(obj.message);$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-footer .wc_editable_comment').hide();$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-footer .wc_cancel_edit').css('display','inline-block');var editForm=$('#wc-comm-'+uniqueID+' > .wc-comment-right #wpdiscuz-edit-form');wpdiscuzReplaceValidationUI(editForm[0]);}else{message=wpdiscuzAjaxObj.wpdiscuz_options[messageKey];wpdiscuzAjaxObj.setCommentMessage(editButton,messageKey,message,false);}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wc_save_edited_comment','click',function(){var uniqueID=getUniqueID($(this));var commentID=getCommentID(uniqueID);var editCommentForm=$('#wc-comm-'+uniqueID+' #wpdiscuz-edit-form');var saveButton=$(this);wpdValidateFieldRequired(editCommentForm);editCommentForm.submit(function(event){event.preventDefault();});if(editCommentForm[0].checkValidity()){var data=new FormData();data.append('action','saveEditedComment');data.append('wpdiscuz_unique_id',uniqueID);data.append('commentId',commentID);var inputs=$(":input",editCommentForm);inputs.each(function(){if($(this).is(':visible')&&this.name!=''&&this.type!='checkbox'&&this.type!='radio'){data.append(this.name+'',$(this).val());}
if(this.type=='checkbox'||this.type=='radio'){if($(this).is(':checked')){data.append(this.name+'',$(this).val());}}});getAjaxObj(true,data).done(function(response){try{var obj=$.parseJSON(response);var messageKey=obj.code;var message='';if(parseInt(messageKey)>=0){wcCancelOrSave(uniqueID,obj.message);}else{message=wpdiscuzAjaxObj.wpdiscuz_options[messageKey];wpdiscuzAjaxObj.setCommentMessage(saveButton,messageKey,message,false);}
if(obj.callbackFunctions!=null&&obj.callbackFunctions!='undefined'&&obj.callbackFunctions.length){$.each(obj.callbackFunctions,function(i){if(typeof wpdiscuzAjaxObj[obj.callbackFunctions[i]]==="function"){wpdiscuzAjaxObj[obj.callbackFunctions[i]](messageKey,commentID,commentContent);}else{console.log(obj.callbackFunctions[i]+" is not a function");}});}}catch(e){if(response.indexOf('<')>=0&&response.indexOf('>')>=0){message=e;}else{message=response;}
wpdiscuzAjaxObj.setCommentMessage(saveButton,'wc_invalid_field',message,false);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}});$(document).delegate('.wc_cancel_edit','click',function(){var uniqueID=getUniqueID($(this));wcCancelOrSave(uniqueID,wcCommentTextBeforeEditing);});function wcCancelOrSave(uniqueID,content){$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-footer .wc_editable_comment').show();$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-footer .wc_cancel_edit').hide();$('#wc-comm-'+uniqueID+' .wpdiscuz-edit-form-wrap').replaceWith(content);}
function nl2br(str,is_xhtml){var breakTag=(is_xhtml||typeof is_xhtml==='undefined')?'<br/>':'<br>';var string=(str+'').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,'$1'+breakTag+'$2');return string.replace('<br><br>','<br/>');}
$(document).delegate('.wc-load-more-submit','click',function(){var loadButton=$(this);var loaded='wc-loaded';var loading='wc-loading';if(loadButton.hasClass(loaded)){wpdiscuzLoadComments(loadButton,loaded,loading);}});var isRun=false;if(commentListLoadType==2&&!wordpressIsPaginate){$('.wc-load-more-submit').parents('.wpdiscuz-comment-pagination').hide();wpdiscuzScrollEvents();$(window).scroll(function(){wpdiscuzScrollEvents();});}
function wpdiscuzScrollEvents(){var wpdiscuzHasMoreComments=$('#wpdiscuzHasMoreComments').val();var scrollHeight=$(document).height();var scrollPosition=$(window).height()+$(window).scrollTop();if(scrollHeight&&scrollPosition){var scrollPercent=scrollPosition*100/scrollHeight;if(scrollPercent>=80&&isRun===false&&wpdiscuzHasMoreComments==1){isRun=true;wpdiscuzLoadComments($('.wc-load-more-submit'));}}}
function wpdiscuzLoadComments(loadButton,loaded,loading){loadButton.toggleClass(loaded);loadButton.toggleClass(loading);var data=new FormData();data.append('action','loadMoreComments');data.append('offset',wpdiscuzLoadCount);data.append('orderBy',wpdiscuzCommentOrderBy);data.append('order',wpdiscuzCommentOrder);data.append('lastParentId',getLastParentID());data.append(wpdiscuzLastVisitKey,Cookies.get(wpdiscuzLastVisitKey));wpdiscuzLoadCount++;getAjaxObj(true,data).done(function(response){try{var obj=$.parseJSON(response);$('.wpdiscuz-comment-pagination').before(obj.comment_list);setLoadMoreVisibility(obj);$('.wpdiscuz_single').remove();isRun=false;loadLastCommentId=obj.loadLastCommentId;}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);$('.wc-load-more-submit').blur();loadButton.toggleClass(loaded);loadButton.toggleClass(loading);});}
function setLoadMoreVisibility(obj){if(obj.is_show_load_more==false){$('#wpdiscuzHasMoreComments').val(0);$('.wc-load-more-submit').parents('.wpdiscuz-comment-pagination').hide();}else{setLastParentID(obj.last_parent_id);$('#wpdiscuzHasMoreComments').val(1);}
if(obj.callbackFunctions!=null&&obj.callbackFunctions!='undefined'&&obj.callbackFunctions.length){$.each(obj.callbackFunctions,function(i){if(typeof wpdiscuzAjaxObj[obj.callbackFunctions[i]]==="function"){wpdiscuzAjaxObj[obj.callbackFunctions[i]]();}else{console.log(obj.callbackFunctions[i]+" is not a function");}});}}
$(document).delegate('.wc_vote.wc_not_clicked','click',function(){var currentVoteBtn=$(this);$(currentVoteBtn).removeClass('wc_not_clicked');var messageKey='';var message='';var commentID=$(this).parents('.wc-comment-right').attr('id');commentID=commentID.substring(commentID.lastIndexOf('-')+1);var voteType;if($(this).hasClass('wc-up')){voteType=1;}else{voteType=-1;}
var data=new FormData();data.append('action','voteOnComment');data.append('commentId',commentID);data.append('voteType',voteType);getAjaxObj(true,data).done(function(response){$(currentVoteBtn).addClass('wc_not_clicked');try{var obj=$.parseJSON(response);messageKey=obj.code;if(parseInt(messageKey)>=0){if(obj.buttonsStyle=='total'){var voteCountDiv=$('.wc-comment-footer .wc-vote-result',$('#comment-'+commentID));voteCountDiv.text(parseInt(voteCountDiv.text())+voteType);}else{var likeCountDiv=$('.wc-comment-footer .wc-vote-result-like',$('#comment-'+commentID));var dislikeCountDiv=$('.wc-comment-footer .wc-vote-result-dislike',$('#comment-'+commentID));likeCountDiv.text(obj.likeCount);dislikeCountDiv.text(obj.dislikeCount);parseInt(obj.likeCount)>0?likeCountDiv.addClass('wc-positive'):likeCountDiv.removeClass('wc-positive');parseInt(obj.dislikeCount)<0?dislikeCountDiv.addClass('wc-negative'):dislikeCountDiv.removeClass('wc-negative');}}else{message=wpdiscuzAjaxObj.wpdiscuz_options[messageKey];wpdiscuzAjaxObj.setCommentMessage(currentVoteBtn,messageKey,message,false);}
if(obj.callbackFunctions!=null&&obj.callbackFunctions!='undefined'&&obj.callbackFunctions.length){$.each(obj.callbackFunctions,function(i){if(typeof wpdiscuzAjaxObj[obj.callbackFunctions[i]]==="function"){wpdiscuzAjaxObj[obj.callbackFunctions[i]](messageKey,commentID,voteType);}else{console.log(obj.callbackFunctions[i]+" is not a function");}});}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wpdiscuz-sort-button','click',function(){if(!($(this).hasClass('wpdiscuz-sort-button-active'))){var clickedBtn=$(this);if($(this).hasClass('wpdiscuz-vote-sort-up')){wpdiscuzCommentOrderBy='by_vote';wpdiscuzCommentOrder='desc';}else{wpdiscuzCommentOrderBy='comment_date_gmt';wpdiscuzCommentOrder=$(this).hasClass('wpdiscuz-date-sort-desc')?'desc':'asc';}
var data=new FormData();data.append('action','wpdiscuzSorting');data.append('orderBy',wpdiscuzCommentOrderBy);data.append('order',wpdiscuzCommentOrder);data.append('order',wpdiscuzCommentOrder);var messageKey='';var message='';getAjaxObj(true,data).done(function(response){try{var obj=$.parseJSON(response);messageKey=obj.code;message=obj.message;if(parseInt(messageKey)>0){$('#wpcomm .wc-thread-wrapper .wc-comment').each(function(){$(this).remove();});$('#wpcomm .wc-thread-wrapper').prepend(message);wpdiscuzLoadCount=parseInt(obj.loadCount);}else{}
setActiveButton(clickedBtn);setLoadMoreVisibility(obj);}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}});function setActiveButton(clickedBtn){$('.wpdiscuz-sort-buttons .wpdiscuz-sort-button').each(function(){$(this).removeClass('wpdiscuz-sort-button-active');});clickedBtn.addClass('wpdiscuz-sort-button-active');}
function getSingleComment(){var loc=location.href;var matches=loc.match(/#comment\-(\d+)/);if(matches!==null){var commentId=matches[1];if(!$('#comment-'+commentId).length){var data=new FormData();data.append('action','getSingleComment');data.append('commentId',commentId);var ajaxObject=getAjaxObj(true,data);ajaxObject.done(function(response){try{var obj=$.parseJSON(response);var scrollToSelector='.wc-thread-wrapper';if($('#comment-'+obj.parentCommentID).length){var parentComment=$('#comment-'+obj.parentCommentID);$('.wc-toggle',parentComment).trigger('click');scrollToSelector='#comment-'+obj.parentCommentID;}else{$('.wc-thread-wrapper').prepend(obj.message);}
$('html, body').animate({scrollTop:$(scrollToSelector).offset().top-32},1000);}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}}}
getSingleComment();if(commentListUpdateType&&loadLastCommentId&&(isUserLoggedIn||(!isUserLoggedIn&&!disableGuestsLiveUpdate))){setInterval(liveUpdate,parseInt(commentListUpdateTimer)*1000);}
function liveUpdate(){var visibleCommentIds=getVisibleCommentIds();var email=(Cookies.get('comment_author_email_'+wpdiscuzCookiehash)!=undefined&&Cookies.get('comment_author_email_'+wpdiscuzCookiehash)!='')?Cookies.get('comment_author_email_'+wpdiscuzCookiehash):'';var data=new FormData();data.append('action','updateAutomatically');data.append('loadLastCommentId',loadLastCommentId);data.append('visibleCommentIds',visibleCommentIds);data.append('email',email);var ajaxObject=getAjaxObj(false,data);ajaxObject.done(function(response){try{var obj=$.parseJSON(response);if(obj.code==1){if(commentListUpdateType==1){liveUpdateImmediately(obj);}else{wpdiscuzCommentArray=wpdiscuzCommentArray.concat(obj.message.comments);wpdiscuzReplyArray=wpdiscuzReplyArray.concat(obj.message.author_replies);var newCommentArrayLength=wpdiscuzCommentArray.length;var newRepliesArrayLength=wpdiscuzReplyArray.length;if(newCommentArrayLength>0){var newCommentText=newCommentArrayLength+' ';newCommentText+=newCommentArrayLength>1?wpdiscuzAjaxObj.wpdiscuz_options.wc_new_comments_button_text:wpdiscuzAjaxObj.wpdiscuz_options.wc_new_comment_button_text;$('.wc_new_comment').html(newCommentText).show();}else{$('.wc_new_comment').hide();}
if(newRepliesArrayLength>0){var newReplyText=newRepliesArrayLength+' ';newReplyText+=newRepliesArrayLength>1?wpdiscuzAjaxObj.wpdiscuz_options.wc_new_replies_button_text:wpdiscuzAjaxObj.wpdiscuz_options.wc_new_reply_button_text;$('.wc_new_reply').html(newReplyText).show();}else{$('.wc_new_reply').hide();}}
$('.wpd-cc-value').html(obj.wc_all_comments_count_new);loadLastCommentId=obj.loadLastCommentId;}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}
function liveUpdateImmediately(obj){if(obj.message!==undefined){var commentObject;var message=obj.message;for(var i=0;i<message.length;i++){commentObject=message[i];addCommentToTree(commentObject.comment_parent,commentObject.comment_html);}}}
$(document).delegate('.wc-update-on-click','click',function(){var data=new FormData();data.append('action','updateOnClick');var clickedButton=$(this);if(clickedButton.hasClass('wc_new_comment')){data.append('newCommentIds',wpdiscuzCommentArray.join());}else{data.append('newCommentIds',wpdiscuzReplyArray.join());}
getAjaxObj(true,data).done(function(response){try{var obj=$.parseJSON(response);liveUpdateImmediately(obj);if(clickedButton.hasClass('wc_new_comment')){wpdiscuzCommentArray=[];$('.wc_new_comment').hide();}else{wpdiscuzReplyArray=[];$('.wc_new_reply').hide();}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wpdiscuz-readmore','click',function(){var uniqueId=getUniqueID($(this));var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','readMore');data.append('commentId',commentId);getAjaxObj(true,data).done(function(response){try{var obj=$.parseJSON(response);if(obj.code){$('#comment-'+commentId+' .wc-comment-text').html(' '+obj.message);$('#wpdiscuz-readmore-'+uniqueId).remove();}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});wpdiscuzAjaxObj.setCommentMessage=function(field,messageKey,message,isFormError){var msgContainer;var parentContainer;if(isFormError){parentContainer=field.parents('.wc-form-wrapper');}else{parentContainer=field.closest('.wc-comment');}
msgContainer=parentContainer.children('.wpdiscuz-comment-message');msgContainer.removeClass();msgContainer.addClass('wpdiscuz-comment-message');msgContainer.addClass(messageKey);msgContainer.html(message);msgContainer.show().delay(4000).fadeOut(1000,function(){msgContainer.removeClass();msgContainer.addClass('wpdiscuz-comment-message');msgContainer.html('');});}
function cloneSecondaryForm(field){var uniqueId=getUniqueID(field,0);$('#wpdiscuz_form_anchor-'+uniqueId).before(replaceUniqueId(uniqueId));var secondaryFormWrapper=$('#wc-secondary-form-wrapper-'+uniqueId);wpdiscuzReplaceValidationUI($('.wc_comm_form',secondaryFormWrapper)[0]);secondaryFormWrapper.slideToggle(700,function(){field.addClass('wpdiscuz-clonned');});changeCaptchaImage($('.wc_captcha_refresh_img',secondaryFormWrapper));}
function replaceUniqueId(uniqueId){var secondaryForm=$('#wpdiscuz_hidden_secondary_form').html();return secondaryForm.replace(/wpdiscuzuniqueid/g,uniqueId);}
function getUniqueID(field,isMain){var fieldID='';if(isMain){fieldID=field.parents('.wc-main-form-wrapper').attr('id');}else{fieldID=field.parents('.wc-comment').attr('id');}
var uniqueID=fieldID.substring(fieldID.lastIndexOf('-')+1);return uniqueID;}
function getCommentID(uniqueID){return uniqueID.substring(0,uniqueID.indexOf('_'));}
function getLastParentID(){return $('.wc-load-more-link').attr("data-lastparentid");}
function setLastParentID(lastParentID){$('.wc-load-more-link').attr("data-lastparentid",lastParentID);if(commentListLoadType!=2){$('.wpdiscuz-comment-pagination').show();}}
function getCommentDepth(field){var fieldClasses=field.attr('class');var classesArray=fieldClasses.split(' ');var depth='';$.each(classesArray,function(index,value){if('wc_comment_level'===getParentDepth(value,false)){depth=getParentDepth(value,true);}});return parseInt(depth)+1;}
function getParentDepth(depthValue,isNumberPart){var depth='';if(isNumberPart){depth=depthValue.substring(depthValue.indexOf('-')+1);}else{depth=depthValue.substring(0,depthValue.indexOf('-'));}
return depth;}
function addCommentToTree(parentId,comment){if(parentId==0){$('.wc-thread-wrapper').prepend(comment);}else{var parentUniqueId=getUniqueID($('#comment-'+parentId),0);$('#wpdiscuz_form_anchor-'+parentUniqueId).after(comment);}}
function getVisibleCommentIds(){var uniqueId;var commentId;var visibleCommentIds='';$('.wc-comment-right').each(function(){uniqueId=getUniqueID($(this),0);commentId=getCommentID(uniqueId);visibleCommentIds+=commentId+',';});return visibleCommentIds;}
function loginButtonsClone(){if($('.wc_social_plugin_wrapper .wp-social-login-provider-list').length){$('.wc_social_plugin_wrapper .wp-social-login-provider-list').clone().prependTo('#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content');}else if($('.wc_social_plugin_wrapper .the_champ_login_container').length){$('.wc_social_plugin_wrapper .the_champ_login_container').clone().prependTo('#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content');}else if($('.wc_social_plugin_wrapper .social_connect_form').length){$('.wc_social_plugin_wrapper .social_connect_form').clone().prependTo('#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content');}else if($('.wc_social_plugin_wrapper .oneall_social_login_providers').length){$('.wc_social_plugin_wrapper .oneall_social_login .oneall_social_login_providers').clone().prependTo('#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content');}}
function displayShowHideReplies(){$('#wcThreadWrapper .wc-comment').each(function(i){if($('> .wc-reply',this).length||$(this).hasClass('wpdiscuz-root-comment')){var toggle=$('> .wc-comment-right .wc-comment-footer .wc-toggle',this);toggle.removeClass('wpdiscuz-hidden');}});}
function wpdiscuzReset(){$('.wpdiscuz_reset').val("");}
function setTextareaCharCount(elem,count){if(commentTextMaxLength!=null){var currLength=elem.val().length;var textareaWrap=elem.parents('.wc_comm_form');var charCountDiv=$('.commentTextMaxLength',textareaWrap);var left=commentTextMaxLength-currLength;if(left<=10){charCountDiv.addClass('left10');}else{charCountDiv.removeClass('left10');}
charCountDiv.html(left);}}
function wpdValidateFieldRequired(form){var fieldsGroup=form.find('.wpd-required-group');$.each(fieldsGroup,function(){$('input',this).removeAttr('required');var checkedFields=$('input:checked',this);if(checkedFields.length===0){$('input',$(this)).attr('required','required');}else{$('.wpd-field-invalid',this).remove();}});if(wpdiscuzRecaptcha&&$('input[name=wpdiscuz_recaptcha]',form).length&&!$('input[name=wpdiscuz_recaptcha]',form).val().length){wpdGoogleRecaptchaValid=false;$('.wpdiscuz-recaptcha',form).css('border','1px solid red');}else if(wpdiscuzRecaptcha){$('.wpdiscuz-recaptcha',form).css('border','none');}}
function wpdiscuzReplaceValidationUI(form){form.addEventListener("invalid",function(event){event.preventDefault();},true);form.addEventListener("submit",function(event){if(!this.checkValidity()){event.preventDefault();}});}
$(document).delegate('.wc_comm_submit, .wc_save_edited_comment','click',function(){var curentForm=$(this).parents('form');var invalidFields=$(':invalid',curentForm),errorMessages=$('.error-message',curentForm),parent;for(var i=0;i<errorMessages.length;i++){errorMessages[i].parentNode.removeChild(errorMessages[i]);}
for(var i=0;i<invalidFields.length;i++){parent=invalidFields[i].parentNode;var oldMsg=parent.querySelector('.wpd-field-invalid');if(oldMsg){parent.removeChild(oldMsg);}
if(invalidFields[i].validationMessage!==''){parent.insertAdjacentHTML("beforeend","<div class='wpd-field-invalid'><span>"+
invalidFields[i].validationMessage+"</span></div>");}}});function wpdiscuzRemoveError(field){var wpdiscuzErrorDiv=$(field).parents('div.wpdiscuz-item').find('.wpd-field-invalid');if(wpdiscuzErrorDiv){wpdiscuzErrorDiv.remove();}}
$(document).delegate('.wpdiscuz-item input,.wpdiscuz-item textarea,.wpdiscuz-item select','click',function(){wpdiscuzRemoveError($(this));});$(document).delegate('.wpdiscuz-item input,.wpdiscuz-item textarea,.wpdiscuz-item select','focus',function(){wpdiscuzRemoveError($(this));});$(document).delegate('.wpd-required-group','change',function(){if($('input:checked',this).length!==0){$('.wpd-field-invalid',this).remove();$('input',$(this)).removeAttr('required');}else{$('input',$(this)).attr('required','required');}});$(document).delegate('.wpdiscuz-spoiler','click',function(){$(this).next().slideToggle();if($(this).hasClass('wpdiscuz-spoiler-closed')){$(this).parents('.wpdiscuz-spoiler-wrap').find('.fa-plus').removeClass('fa-plus').addClass('fa-minus');}else{$(this).parents('.wpdiscuz-spoiler-wrap').find('.fa-minus').removeClass('fa-minus').addClass('fa-plus');}
$(this).toggleClass('wpdiscuz-spoiler-closed');});function wpdiscuzShowReplies(uniqueId){var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','wpdiscuzShowReplies');data.append('commentId',commentId);var ajax=getAjaxObj(true,data);ajax.done(function(response){try{var obj=$.parseJSON(response);if(obj.code==1){$('#wc-comm-'+uniqueId).replaceWith(obj.data);$('#wc-comm-'+uniqueId+' .wc-toggle .fas').removeClass('fa-chevron-down').addClass('fa-chevron-up').removeClass('wpdiscuz-show-replies').attr('title',wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);var toggle=$('#wc-comm-'+uniqueId+' .wc-toggle');$('.wpdiscuz-children-button-text',toggle).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);if(obj.callbackFunctions!=null&&obj.callbackFunctions!='undefined'&&obj.callbackFunctions.length){$.each(obj.callbackFunctions,function(i){if(typeof wpdiscuzAjaxObj[obj.callbackFunctions[i]]==="function"){wpdiscuzAjaxObj[obj.callbackFunctions[i]]();}else{console.log(obj.callbackFunctions[i]+" is not a function");}});}}else{console.log('Unknown error occured');}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}
$(document).delegate('.wc_stick_btn','click',function(){var btn=$(this);var uniqueId=getUniqueID(btn,0);var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','wpdiscuzStickComment');data.append('commentId',commentId);var ajax=getAjaxObj(true,data);ajax.done(function(response){try{var obj=$.parseJSON(response);if(obj.code==1){$('.wc_stick_text',btn).text(obj.data);setTimeout(function(){location.reload(true);},1000);}else{console.log('Comment not updated');}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wc_close_btn','click',function(){var btn=$(this);var uniqueId=getUniqueID(btn,0);var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','wpdiscuzCloseThread');data.append('commentId',commentId);var ajax=getAjaxObj(true,data);ajax.done(function(response){try{var obj=$.parseJSON(response);if(obj.code==1){$('.wc_close_btn',btn).text(obj.data);setTimeout(function(){location.reload(true);},1000);}else{console.log('Comment not updated');}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wc_main_comm_form .wc_comment','focus',function(){$(this).parents('.wpdiscuz-textarea-wrap').find('.wc-field-avatararea').hide('fast');$(this).animate({'padding':'15px','font-size':'14px'},'fast');});$(document).delegate('.wc_main_comm_form .wc_comment','blur',function(){if(!$(this).val()){$(this).removeAttr("style");$(this).parents('.wpdiscuz-textarea-wrap').find('.wc-field-avatararea').show("fast");}});$(document).delegate('.wpd-stat-reacted','click',function(){var btn=$(this);$('.fas',btn).addClass('fa-pulse fa-spinner');var data=new FormData();data.append('action','wpdMostReacted');var ajax=getAjaxObj(false,data);ajax.done(function(response){try{$('.fas',btn).removeClass('fa-pulse fa-spinner');var r=$.parseJSON(response);if(r.code){var scrollToSelector='.wc-thread-wrapper';if($('#comment-'+r.commentId).length){scrollToSelector='#comment-'+r.commentId;}else if($('#comment-'+r.parentCommentID).length){var parentComment=$('#comment-'+r.parentCommentID);$('.wc-toggle',parentComment).trigger('click');}else{$('.wc-thread-wrapper').prepend(r.message);scrollToSelector='#comment-'+r.commentId;}
$('html, body').animate({scrollTop:$(scrollToSelector).offset().top-32},1000);}else{}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wpd-stat-hot','click',function(){var btn=$(this);$('.fab',btn).addClass('fas fa-pulse fa-spinner');var data=new FormData();data.append('action','wpdHottest');var ajax=getAjaxObj(false,data);ajax.done(function(response){try{$('.fab',btn).removeClass('fas fa-pulse fa-spinner');var r=$.parseJSON(response);if(r.code){var scrollToSelector='.wc-thread-wrapper';if($('#comment-'+r.commentId).length){scrollToSelector='#comment-'+r.commentId;}else{$('.wc-thread-wrapper').prepend(r.message);scrollToSelector='#comment-'+r.commentId;}
var comment=$('#comment-'+r.commentId);var toggle=$('.wc-toggle',comment);var icon=$('.fas',toggle);if(icon.hasClass('wpdiscuz-show-replies')&&isLoadOnlyParentComments){toggle.trigger('click');}
$('html, body').animate({scrollTop:$(scrollToSelector).offset().top-32},1000);}else{}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});function addAgreementInCookie(wcForm){$('.wpd-agreement-chackbox',wcForm).each(function(){if($(this).hasClass('wpd_agreement_hide')&&isCookiesEnabled&&$(this).prop('checked')){Cookies.set($(this).attr('name')+'_'+wpdiscuzCookiehash,1,{expires:30,path:'/'});$('input[name='+$(this).attr('name')+']').each(function(){wpdiscuzAgreementFields.push($(this));});}});}
function deleteAgreementFields(){if(wpdiscuzAgreementFields.length){wpdiscuzAgreementFields.forEach(function(item){item.parents('.wpd-field-checkbox').remove();});wpdiscuzAgreementFields=[];}}
function getAjaxObj(isShowTopLoading,data){if(isShowTopLoading){$('.wpdiscuz-loading-bar').show();}
data.append('postId',wpdiscuzPostId);return $.ajax({type:'POST',url:wpdiscuzAjaxObj.url,data:data,contentType:false,processData:false,});}});
;;jQuery(document).ready(function($){$(document).delegate('.wpd-info,.wpd-page-link,.wpd-delete-content,.wpd-user-email-delete-links','click',function(e){e.preventDefault();});$('#wc_delete_content_message').delay(3000).fadeOut(1500,function(){$(this).remove();location.href=location.href.substring(0,location.href.indexOf('delete')-1);});$(document).delegate('.wpd-info.wpd-not-clicked','click',function(e){var btn=$(this);btn.removeClass('wpd-not-clicked');var data=new FormData();data.append('action','wpdGetInfo');wpdFullInfo(btn,data);return false;});function wpdFullInfo(btn,data){var icon=$('.fas',btn);var oldClass=icon.attr('class');icon.removeClass();icon.addClass('fas fa-pulse fa-spinner');var ajax=getUCAjaxObj(false,data);ajax.done(function(resp){btn.addClass('wpd-not-clicked');icon.removeClass();icon.addClass(oldClass);if(resp){$('#wpdUserContentInfo').html(resp);$('#wpdUserContentInfo ul.wpd-list .wpd-list-item:first-child').addClass('wpd-active');$('#wpdUserContentInfo div.wpd-content .wpd-content-item:first-child').addClass('wpd-active');if(!($('#wpdUserContentInfo').is(':visible'))){$('#wpdUserContentInfoAnchor').trigger('click');}}});}
$(document).delegate('.wpd-list-item','click',function(){var relValue=$('input.wpd-rel',this).val();$('#wpdUserContentInfo .wpd-list-item').removeClass('wpd-active');$('#wpdUserContentInfo .wpd-content-item').removeClass('wpd-active');$(this).addClass('wpd-active');$('#wpdUserContentInfo #'+relValue).addClass('wpd-active');});$(document).delegate('.wpd-page-link.wpd-not-clicked','click',function(e){var btn=$(this);btn.removeClass('wpd-not-clicked');var goToPage=btn.data('wpd-page');var action=$('.wpd-active .wpd-pagination .wpd-action').val();var data=new FormData();data.append('action',action);data.append('page',goToPage);var ajax=getUCAjaxObj(true,data);ajax.done(function(resp){btn.addClass('wpd-not-clicked');if(resp){$('.wpd-content-item.wpd-active').html(resp);}
$('.wpdiscuz-loading-bar').hide();});});$(document).delegate('.wpd-delete-content.wpd-not-clicked','click',function(){var btn=$(this);var id=parseInt(btn.data('wpd-content-id'));if(!isNaN(id)){var action=btn.data('wpd-delete-action');if(action=='wpdDeleteComment'&&!confirm(wpdiscuzUCObj.msgConfirmDeleteComment)){return false;}else if(action=='wpdCancelSubscription'&&!confirm(wpdiscuzUCObj.msgConfirmCancelSubscription)){return false;}
var icon=$('i',btn);var oldClass=icon.attr('class');var goToPage=$('.wpd-wrapper .wpd-page-number').val();var childCount=$('.wpd-content-item.wpd-active').children('.wpd-item').length;btn.removeClass('wpd-not-clicked');icon.removeClass().addClass('fas fa-pulse fa-spinner');if(childCount==1&&goToPage>0){goToPage=goToPage-1;}
var data=new FormData();data.append('id',id);data.append('page',goToPage);data.append('action',action);var ajax=getUCAjaxObj(false,data);ajax.done(function(response){btn.addClass('wpd-not-clicked');icon.removeClass().addClass(oldClass);$('.wpd-content-item.wpd-active').html(response);});}});$(document).delegate('.wpd-user-email-delete-links.wpd-not-clicked','click',function(){var btn=$(this);btn.removeClass('wpd-not-clicked');$('.wpd-loading',btn).addClass('wpd-show');var data=new FormData();data.append('action','wpdEmailDeleteLinks');var ajax=getUCAjaxObj(false,data);ajax.done(function(response){btn.addClass('wpd-not-clicked');$('[data-lity-close]',window.parent.document).trigger('click');});});$(document).delegate('.wpd-user-settings-button.wpd-not-clicked','click',function(){var btn=$(this);btn.removeClass('wpd-not-clicked');var guestAction=btn.data('wpd-delete-action');console.log(guestAction);if(guestAction!=='deleteCookies'){btn.find('.wpd-loading').addClass('wpd-show');var data=new FormData();data.append('action','wpdGuestAction');data.append('guestAction',guestAction);var ajax=getUCAjaxObj(false,data);ajax.done(function(response){btn.addClass('wpd-not-clicked');btn.find('.wpd-loading').removeClass('wpd-show');try{var r=$.parseJSON(response);btn.after(r.message);var messageWrap=btn.next('.wpd-guest-action-message');messageWrap.fadeIn(100).fadeOut(7000,function(){messageWrap.remove();if(parseInt(r.code)===1){btn.parent().remove();guestActionDeleteCookieClass();}});}catch(e){console.log(e);}});}else{wpdDeleteAllCookies();}});function guestActionDeleteCookieClass(){if(!$('.wpd-delete-all-comments').length&&!$('.wpd-delete-all-subscriptions').length){$('.wpd-delete-all-cookies').parent().addClass('wpd-show');}}
function wpdDeleteAllCookies(){var wpdCookies=document.cookie.split(";");for(var i=0;i<wpdCookies.length;i++){var wpdCookie=wpdCookies[i];var eqPos=wpdCookie.indexOf("=");var name=eqPos>-1?wpdCookie.substr(0,eqPos):wpdCookie;Cookies.remove(name.trim());}
Cookies.remove(wpdiscuzAjaxObj.wpdiscuz_options.lastVisitKey,{path:window.location});location.reload(true);}
function getUCAjaxObj(isShowTopLoading,data){if(isShowTopLoading){$('.wpdiscuz-loading-bar').show();}
data.append('postId',wpdiscuzAjaxObj.wpdiscuz_options.wc_post_id);return $.ajax({type:'POST',url:wpdiscuzAjaxObj.url,data:data,contentType:false,processData:false,});}});
;
(function(window,factory){if(typeof define==='function'&&define.amd){define(['jquery'],function($){return factory(window,$);});}else if(typeof module==='object'&&typeof module.exports==='object'){module.exports=factory(window,require('jquery'));}else{window.lity=factory(window,window.jQuery||window.Zepto);}}(typeof window!=="undefined"?window:this,function(window,$){'use strict';var document=window.document;var _win=$(window);var _deferred=$.Deferred;var _html=$('html');var _instances=[];var _attrAriaHidden='aria-hidden';var _dataAriaHidden='lity-'+_attrAriaHidden;var _focusableElementsSelector='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])';var _defaultOptions={esc:true,handler:null,handlers:{image:imageHandler,inline:inlineHandler,youtube:youtubeHandler,vimeo:vimeoHandler,googlemaps:googlemapsHandler,facebookvideo:facebookvideoHandler,iframe:iframeHandler},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'};var _imageRegexp=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i;var _youtubeRegex=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i;var _vimeoRegex=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/;var _googlemapsRegex=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i;var _facebookvideoRegex=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i;var _transitionEndEvent=(function(){var el=document.createElement('div');var transEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'};for(var name in transEndEventNames){if(el.style[name]!==undefined){return transEndEventNames[name];}}
return false;})();function transitionEnd(element){var deferred=_deferred();if(!_transitionEndEvent||!element.length){deferred.resolve();}else{element.one(_transitionEndEvent,deferred.resolve);setTimeout(deferred.resolve,500);}
return deferred.promise();}
function settings(currSettings,key,value){if(arguments.length===1){return $.extend({},currSettings);}
if(typeof key==='string'){if(typeof value==='undefined'){return typeof currSettings[key]==='undefined'?null:currSettings[key];}
currSettings[key]=value;}else{$.extend(currSettings,key);}
return this;}
function parseQueryParams(params){var pairs=decodeURI(params.split('#')[0]).split('&');var obj={},p;for(var i=0,n=pairs.length;i<n;i++){if(!pairs[i]){continue;}
p=pairs[i].split('=');obj[p[0]]=p[1];}
return obj;}
function appendQueryParams(url,params){return url+(url.indexOf('?')>-1?'&':'?')+$.param(params);}
function transferHash(originalUrl,newUrl){var pos=originalUrl.indexOf('#');if(-1===pos){return newUrl;}
if(pos>0){originalUrl=originalUrl.substr(pos);}
return newUrl+originalUrl;}
function error(msg){return $('<span class="lity-error"/>').append(msg);}
function imageHandler(target,instance){var desc=(instance.opener()&&instance.opener().data('lity-desc'))||'Image with no description';var img=$('<img src="'+target+'" alt="'+desc+'"/>');var deferred=_deferred();var failed=function(){deferred.reject(error('Failed loading image'));};img.on('load',function(){if(this.naturalWidth===0){return failed();}
deferred.resolve(img);}).on('error',failed);return deferred.promise();}
imageHandler.test=function(target){return _imageRegexp.test(target);};function inlineHandler(target,instance){var el,placeholder,hasHideClass;try{el=$(target);}catch(e){return false;}
if(!el.length){return false;}
placeholder=$('<i style="display:none !important"/>');hasHideClass=el.hasClass('lity-hide');instance.element().one('lity:remove',function(){placeholder.before(el).remove();if(hasHideClass&&!el.closest('.lity-content').length){el.addClass('lity-hide');}});return el.removeClass('lity-hide').after(placeholder);}
function youtubeHandler(target){var matches=_youtubeRegex.exec(target);if(!matches){return false;}
return iframeHandler(transferHash(target,appendQueryParams('https://www.youtube'+(matches[2]||'')+'.com/embed/'+matches[4],$.extend({autoplay:1},parseQueryParams(matches[5]||'')))));}
function vimeoHandler(target){var matches=_vimeoRegex.exec(target);if(!matches){return false;}
return iframeHandler(transferHash(target,appendQueryParams('https://player.vimeo.com/video/'+matches[3],$.extend({autoplay:1},parseQueryParams(matches[4]||'')))));}
function facebookvideoHandler(target){var matches=_facebookvideoRegex.exec(target);if(!matches){return false;}
if(0!==target.indexOf('http')){target='https:'+target;}
return iframeHandler(transferHash(target,appendQueryParams('https://www.facebook.com/plugins/video.php?href='+target,$.extend({autoplay:1},parseQueryParams(matches[4]||'')))));}
function googlemapsHandler(target){var matches=_googlemapsRegex.exec(target);if(!matches){return false;}
return iframeHandler(transferHash(target,appendQueryParams('https://www.google.'+matches[3]+'/maps?'+matches[6],{output:matches[6].indexOf('layer=c')>0?'svembed':'embed'})));}
function iframeHandler(target){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+target+'"/></div>';}
function winHeight(){return document.documentElement.clientHeight?document.documentElement.clientHeight*0.9:Math.round(_win.height()*0.9);}
function keydown(e){var current=currentInstance();if(!current){return;}
if(e.keyCode===27&&!!current.options('esc')){current.close();}
if(e.keyCode===9){handleTabKey(e,current);}}
function handleTabKey(e,instance){var focusableElements=instance.element().find(_focusableElementsSelector);var focusedIndex=focusableElements.index(document.activeElement);if(e.shiftKey&&focusedIndex<=0){focusableElements.get(focusableElements.length-1).focus();e.preventDefault();}else if(!e.shiftKey&&focusedIndex===focusableElements.length-1){focusableElements.get(0).focus();e.preventDefault();}}
function resize(){$.each(_instances,function(i,instance){instance.resize();});}
function registerInstance(instanceToRegister){if(1===_instances.unshift(instanceToRegister)){_html.addClass('lity-active');_win.on({resize:resize,keydown:keydown});}
$('body > *').not(instanceToRegister.element()).addClass('lity-hidden').each(function(){var el=$(this);if(undefined!==el.data(_dataAriaHidden)){return;}
el.data(_dataAriaHidden,el.attr(_attrAriaHidden)||null);}).attr(_attrAriaHidden,'true');}
function removeInstance(instanceToRemove){var show;instanceToRemove.element().attr(_attrAriaHidden,'true');if(1===_instances.length){_html.removeClass('lity-active');_win.off({resize:resize,keydown:keydown});}
_instances=$.grep(_instances,function(instance){return instanceToRemove!==instance;});if(!!_instances.length){show=_instances[0].element();}else{show=$('.lity-hidden');}
show.removeClass('lity-hidden').each(function(){var el=$(this),oldAttr=el.data(_dataAriaHidden);if(!oldAttr){el.removeAttr(_attrAriaHidden);}else{el.attr(_attrAriaHidden,oldAttr);}
el.removeData(_dataAriaHidden);});}
function currentInstance(){if(0===_instances.length){return null;}
return _instances[0];}
function factory(target,instance,handlers,preferredHandler){var handler='inline',content;var currentHandlers=$.extend({},handlers);if(preferredHandler&&currentHandlers[preferredHandler]){content=currentHandlers[preferredHandler](target,instance);handler=preferredHandler;}else{$.each(['inline','iframe'],function(i,name){delete currentHandlers[name];currentHandlers[name]=handlers[name];});$.each(currentHandlers,function(name,currentHandler){if(!currentHandler){return true;}
if(currentHandler.test&&!currentHandler.test(target,instance)){return true;}
content=currentHandler(target,instance);if(false!==content){handler=name;return false;}});}
return{handler:handler,content:content||''};}
function Lity(target,options,opener,activeElement){var self=this;var result;var isReady=false;var isClosed=false;var element;var content;options=$.extend({},_defaultOptions,options);element=$(options.template);self.element=function(){return element;};self.opener=function(){return opener;};self.options=$.proxy(settings,self,options);self.handlers=$.proxy(settings,self,options.handlers);self.resize=function(){if(!isReady||isClosed){return;}
content.css('max-height',winHeight()+'px').trigger('lity:resize',[self]);};self.close=function(){if(!isReady||isClosed){return;}
isClosed=true;removeInstance(self);var deferred=_deferred();if(activeElement&&(document.activeElement===element[0]||$.contains(element[0],document.activeElement))){try{activeElement.focus();}catch(e){}}
content.trigger('lity:close',[self]);element.removeClass('lity-opened').addClass('lity-closed');transitionEnd(content.add(element)).always(function(){content.trigger('lity:remove',[self]);element.remove();element=undefined;deferred.resolve();});return deferred.promise();};result=factory(target,self,options.handlers,options.handler);element.attr(_attrAriaHidden,'false').addClass('lity-loading lity-opened lity-'+result.handler).appendTo('body').focus().on('click','[data-lity-close]',function(e){if($(e.target).is('[data-lity-close]')){self.close();}}).trigger('lity:open',[self]);registerInstance(self);$.when(result.content).always(ready);function ready(result){content=$(result).css('max-height',winHeight()+'px');element.find('.lity-loader').each(function(){var loader=$(this);transitionEnd(loader).always(function(){loader.remove();});});element.removeClass('lity-loading').find('.lity-content').empty().append(content);isReady=true;content.trigger('lity:ready',[self]);}}
function wpdLity(target,options,opener){if(!target.preventDefault){opener=$(opener);}else{target.preventDefault();opener=$(this);target=opener.data('lity-target')||opener.attr('rel')||opener.attr('src');}
var instance=new Lity(target,$.extend({},opener.data('lity-options')||opener.data('lity'),options),opener,document.activeElement);if(!target.preventDefault){return instance;}}
wpdLity.version='2.2.2';wpdLity.options=$.proxy(settings,wpdLity,_defaultOptions);wpdLity.handlers=$.proxy(settings,wpdLity,_defaultOptions.handlers);wpdLity.current=currentInstance;$(document).on('click.lity','[data-wpd-lity]',wpdLity);return wpdLity;}));
;jQuery.ajax({type:"GET",url:tieViewsCacheL10n.admin_ajax_url,data:"postviews_id="+tieViewsCacheL10n.post_id+"&action=my_postviews",cache:!1,success:function(data){if(data){jQuery('span.post-views').html(data+' Views');}}});